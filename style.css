:root {
    /* Day Theme (Default) */
    --bg-screen-1-day: #D9D9E5;
    --bg-screen-2-day: #B1B1D5;
    --text-screen-day: #37387B;
    --text-screen-arrow-day: #C7C8E0;
    --nav-dot-inactive-bg-day: #8384bd;
    --nav-dot-inactive-border-day: #8384bd;
    --nav-dot-active-bg-day: #4D4E91;
    --nav-dot-active-border-day: #37387B;
    --switcher-bg-day: #42438c;
    --switcher-text-day: #e4e4ff;
    --switcher-border-day: #42438c;
    --content-block-bg-day: #FFFFFF; /* Common for S2-S6 blocks */
    --s1-bg-image: url('intro.jpg'); /* Common image for screen 1 */
    --s1-block-bg-day: #e4e4ff; 
    --s1-text-day: #37387B; 
    --s1-paragraph-text-day: #C7C8E0;
    --s1-attribution-text-day: rgb(198, 198, 198); /* For S1 image attribution */

    /* Default to day theme variables */
    --bg-screen-1: var(--bg-screen-1-day);
    --bg-screen-2: var(--bg-screen-2-day);
    --text-screen: var(--text-screen-day);
    --text-screen-arrow: var(--text-screen-arrow-day);
    --nav-dot-inactive-bg: var(--nav-dot-inactive-bg-day);
    --nav-dot-inactive-border: var(--nav-dot-inactive-border-day);
    --nav-dot-active-bg: var(--nav-dot-active-bg-day);
    --nav-dot-active-border: var(--nav-dot-active-border-day);
    --switcher-bg: var(--switcher-bg-day);
    --switcher-text: var(--switcher-text-day);
    --switcher-border: var(--switcher-border-day);
    --content-block-bg: var(--content-block-bg-day); /* Default for S2-S6 blocks */
    --s1-block-bg: var(--s1-block-bg-day);
    --s1-text: var(--s1-text-day);
    --s1-paragraph-text: var(--s1-paragraph-text-day);
    --s1-attribution-text: var(--s1-attribution-text-day);
}

body.night-theme {
    /* Night Theme Overrides */
    --bg-screen-1: #111145;
    --bg-screen-2: #272759;
    --text-screen: #C7C8E0;
    --text-screen-arrow: #C7C8E0;
    --nav-dot-inactive-bg: #42438c;
    --nav-dot-inactive-border: #42438c;
    --nav-dot-active-bg: #9E9FCF;
    --nav-dot-active-border: #9E9FCF;
    --switcher-bg: #42438c;
    --switcher-text: #e4e4ff;
    --switcher-border: #626292;
    --content-block-bg: #42438c; /* For S2-S6 blocks */
    /* --s1-bg-image remains url('intro.jpg') */
    --s1-block-bg: #373977; 
    --s1-text: #C7C8E0; 
    --s1-paragraph-text: #C7C8E0; 
    --s1-attribution-text: #C7C8E0; /* Assuming attribution text also changes */
}

html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: 'Saira', sans-serif; /* Changed default font to Saira */
    overflow-x: hidden; /* Disable horizontal scroll */

    /* Hide scrollbar for WebKit browsers */
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */

    /* Enable vertical scroll snapping */
    scroll-snap-type: y mandatory;
    scroll-behavior: smooth; /* Add smooth scrolling */
    background-color: var(--bg-screen-1); /* Set a base background for the body */
}

/* Hide scrollbar for WebKit browsers (Chrome, Safari, newer Edge) */
body::-webkit-scrollbar {
    display: none;
}

/* Side Navigation */
.side-nav {
    position: fixed; /* Fixed position to stay in place during scroll */
    top: 50%; /* Center vertically */
    left: 20px; /* Distance from the left edge */
    transform: translateY(-50%); /* Fine-tune vertical centering */
    display: flex;
    flex-direction: column; /* Stack dots vertically */
    gap: 15px; /* Space between dots */
    z-index: 1000; /* Ensure it's above other content */
}

.nav-dot {
    width: 12px;
    height: 12px;
    background-color: var(--nav-dot-inactive-bg);
    border-radius: 50%; /* Make it a circle */
    border: 2px solid var(--nav-dot-inactive-border);
    transition: background-color 0.3s ease, border-color 0.3s ease; /* Smooth transition for color changes */
}

.nav-dot.active {
    background-color: var(--nav-dot-active-bg);
    border-color: var(--nav-dot-active-border);
}

/* General .screen styles (ensure they are compatible) */
.screen {
    width: 100vw; 
    height: 100vh; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    font-size: 2em; 
    color: var(--text-screen);
    scroll-snap-align: start; 
    overflow: hidden; /* Add this to prevent content from one screen bleeding into another */
}

/* Screen 1 specific styles */
#screen-1 {
    padding: 40px 20px; 
    box-sizing: border-box;
    position: relative; 
    background-image: var(--s1-bg-image); /* Use CSS variable for theme-dependent image */
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
}

.main-content-s1 {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 25px; /* Space between title and text block */
    width: 85%;
    max-width: 950px; /* Increased from 900px to give title more room */
    text-align: center;
    z-index: 1; /* Retained for stacking within screen 1 */
}

.title-block-s1, .text-block-s1 {
    background-color: var(--s1-block-bg);
    color: var(--s1-text); /* Text color will be inherited from .screen but can be set explicitly */
    padding: 25px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    width: 100%;
}

.text-block-s1 {
    background-color: rgba(255, 255, 255, 0);
}


.title-block-s1 h1 {
    font-size: clamp(1.3em, 3.5vw, 3.0em); /* Made way bigger, allowing wrapping */
    margin: 0;
    font-weight: 700;
    display: block; /* Ensure it takes up the expected space */
}

.text-block-s1 p {
    font-size: clamp(0.95em, 1.5vw, 1.15em); /* Adjusted for a slightly smaller size */
    line-height: 1.7;
    margin: 0;
    color: var(--s1-paragraph-text); /* Use consistent color for S1 paragraphs */
    text-align: center; /* Explicitly center main paragraph */
    text-shadow: 1px 1px 3px rgba(0,0,0,0.4); /* RE-ADDED text shadow for paragraph readability */
}

.image-attribution {
    font-style: italic;
    font-size: clamp(0.75em, 1vw, 0.85em); /* Smaller and responsive */
    text-align: center; /* Changed from right to center */
    color: var(--s1-attribution-text); /* Use consistent color for S1 paragraphs */
    margin-top: 20px; /* Adds some space above the attribution line */
    margin-bottom: 0; /* Ensure no extra bottom margin */
}

.author-line {
    font-size: clamp(0.75em, 1vw, 0.85em); /* Same size as attribution */
    text-align: center; /* Changed from right to center */
    color: var(--s1-paragraph-text); /* Use consistent color for S1 paragraphs */
    opacity: 0.75; /* Slightly less prominent */
    font-weight: bold; /* Make author name bold */
    margin-top: 5px; /* Space between attribution and author */
    margin-bottom: 0; /* Ensure no extra bottom margin */
}

.scroll-indicator-s1 {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    z-index: 1; /* Retained for stacking within screen 1 */
}

.scroll-indicator-s1 .material-symbols-outlined {
    font-size: clamp(30px, 5vw, 40px); /* Responsive icon size */
    color: var(--text-screen-arrow);
    line-height: 0.5; /* Stack them closer */
    opacity: 0.7;
}

/* Animation for the scroll indicator arrows */
@keyframes bounce-arrow {
    0%, 20%, 50%, 80%, 100% {
        transform: translateY(0);
        opacity: 0.7;
    }
    40% {
        transform: translateY(-8px);
        opacity: 1;
    }
    60% {
        transform: translateY(-4px);
        opacity: 0.9;
    }
}

.scroll-indicator-s1 .material-symbols-outlined:nth-child(1) {
    animation: bounce-arrow 2.2s infinite 0s;
}
.scroll-indicator-s1 .material-symbols-outlined:nth-child(2) {
    animation: bounce-arrow 2.2s infinite 0.25s;
}
.scroll-indicator-s1 .material-symbols-outlined:nth-child(3) {
    animation: bounce-arrow 2.2s infinite 0.5s;
}

/* === Common Layout Styles for Screens 2-6 (Desktop) === */
.page-screen-content-wrapper { /* Replaces .main-content-sX for S2-S6 */
    width: 90%;
    max-width: 1600px;
    height: 100%; /* Changed from min-height: 100vh; to ensure fixed height based on .screen */
    padding: 8vh 0;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin-left: auto;
    margin-right: auto;
}

.content-layout-area { /* Replaces .content-area-sX for S2-S6 */
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    width: 100%;
    height: 100%;
    flex-grow: 1;
    align-items: stretch;
    box-sizing: border-box;
}

.content-column { /* Replaces .left-column-sX and .right-column-sX for S2-S6 */
    width: calc(50% - 15px); 
    display: flex;
    flex-direction: column;
    gap: 20px;
    box-sizing: border-box;
}

.info-title-block { /* Replaces .title-block-sX for S2-S6 */
    background-color: var(--content-block-bg);
    color: var(--text-screen);
    padding: 20px 25px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    width: 100%; 
    text-align: center;
    box-sizing: border-box;
}

.info-title-block h2 { 
    font-size: clamp(1.4em, 2.8vw, 2.0em); 
    margin: 0;
    font-weight: 700; 
    /* font-family will be applied by a later rule */
}

.info-text-block { /* Replaces .text-block-sX for S2-S6 */
    background-color: var(--content-block-bg);
    color: var(--text-screen);
    padding: 25px 35px; /* Adjusted left/right padding */
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    width: 100%; 
    text-align: left;
    flex-grow: 1; 
    box-sizing: border-box;
    min-height: 0; 
    overflow-y: auto; /* Enable vertical scrollbar */
    scrollbar-width: thin; /* For Firefox */
    scrollbar-color: var(--nav-dot-active-bg) var(--content-block-bg); /* For Firefox: thumb and track */
}

/* Custom WebKit scrollbar styles for .info-text-block */
.info-text-block::-webkit-scrollbar {
    width: 10px; /* Width of the scrollbar */
}

.info-text-block::-webkit-scrollbar-track {
    background: var(--content-block-bg); /* Track color same as block background */
    border-radius: 10px; /* Rounded track */
}

.info-text-block::-webkit-scrollbar-thumb {
    background-color: var(--nav-dot-active-bg); /* Thumb color same as active nav dot */
    border-radius: 10px; /* Rounded thumb */
    border: 2px solid var(--content-block-bg); /* Creates an inset effect, making thumb appear thinner */
}

.info-text-block p { 
    font-size: clamp(0.85em, 0.7vw, 1.0em); /* Adjusted font size to be smaller */
    line-height: 1.4;
    margin: 0;
    margin-bottom: 10px;
    text-align: left; /* Justify text alignment */
}

.info-image-placeholder { /* Replaces .image-placeholder-sX for S2-S6 */
    width: calc(50% - 15px);
    background-color: var(--content-block-bg);
    color: var(--text-screen);
    padding: 25px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    display: flex;
    justify-content: center;
    align-items: center;
    border: 2px dashed var(--text-screen); 
    opacity: 0.6; 
    text-align: center;
    box-sizing: border-box;
}

/* Styles for when the placeholder contains an actual image */
.info-image-placeholder.has-image {
    padding: 0; /* Remove padding to let image fill the space */
    border: none; /* Remove dashed border */
    opacity: 1;   /* Restore full opacity */
    background-color: #080610; /* Added background color */
}

.info-image-placeholder.has-image img {
    width: 100%;
    height: 100%;
    object-fit: contain; /* Show full image, may leave empty space */
    border-radius: 8px; /* Match the original placeholder's rounding */
}

.info-image-placeholder p { 
    font-style: italic;
    font-size: clamp(1em, 2.2vw, 1.2em); 
    margin: 0;
}
/* === End of Common Layout Styles for Screens 2-6 (Desktop) === */

/* Styles for subsequent screens - REMOVING Z-INDEX */
#screen-2 {
    /* z-index: 2; REMOVED */
}

#screen-3 {
    /* z-index: 3; REMOVED */
}

#screen-4 {
    /* z-index: 4; REMOVED */
}

#screen-5 {
    /* z-index: 5; REMOVED */
}

#screen-6 {
    /* z-index: 6; REMOVED */
}

/* Ensure background colors are applied, these rules come after .screen */
#screen-3, #screen-5 { /* #screen-1 removed from this rule */
    background-color: var(--bg-screen-1);
}

#screen-2, #screen-4, #screen-6 {
    background-color: var(--bg-screen-2);
}

#theme-switcher {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 8px 12px;
    background-color: var(--switcher-bg);
    color: var(--switcher-text);
    border: 1px solid var(--switcher-border);
    border-radius: 20px; /* Increased for rounder corners */
    cursor: pointer;
    z-index: 1001; /* Above side-nav */
    font-size: 1rem;
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, filter 0.3s ease;
}

#theme-switcher:hover {
    filter: brightness(85%);
}

/* Styling for the icon span within the switcher button */
#theme-icon-span {
    font-family: 'Material Symbols Outlined'; /* Ensure the icon font is applied */
    font-size: 20px; /* Adjust size as needed */
    line-height: 1; /* Helps with vertical alignment */
    vertical-align: middle; /* Align icon with button text/center if button was just icon */
}

/* === Responsive Styles === */

/* General Responsive (Tablet and larger phones) */
@media (max-width: 768px) {
    /* Screen 1 content adjustments */
    #screen-1 { padding: 25px 15px; }
    .main-content-s1 { gap: 20px; width: 90%; }
    .title-block-s1, .text-block-s1 { padding: 20px; }

    /* General .screen font size adjustment */
    .screen { font-size: 1.6em; }

    /* Side Navigation Responsive */
    .side-nav {
        top: 20px; left: 50%; transform: translateX(-50%);
        flex-direction: row; width: auto; gap: 10px;
    }
    .nav-dot { width: 10px; height: 10px; border-width: 1.5px; }

    /* Theme Switcher Responsive */
    #theme-switcher { top: 20px; right: 15px; }

    /* Screen 1 Scroll Indicator Responsive */
    .scroll-indicator-s1 { bottom: 20px; }

    /* Common Components for Screens 2-6: Responsive */
    .page-screen-content-wrapper {
        width: 90%; 
        min-height: auto; 
        padding: 2vh 15px; 
        justify-content: space-around; 
    }
    .content-layout-area {
        flex-direction: column; 
        gap: 20px; 
    }
    .content-column, .info-image-placeholder { /* Both stack and take full width */
        width: 100%; 
        margin-left: 0;
        margin-right: 0;
    }
    .content-column { gap: 15px; } /* Gap within the column of title/text */
    .info-title-block { padding: 15px; }
    .info-title-block h2 { font-size: clamp(1.3em, 5vw, 1.8em); }
    .info-text-block { 
        text-align: left; 
        flex-grow: 0; 
        padding: 15px;
    }
    .info-image-placeholder { min-height: 25vh; }

    /* Specific order for screens 3 and 5 on tablet */
    #screen-3 .info-image-placeholder, /* Keep ID for specificity if needed, or make a generic modifier class */
    #screen-5 .info-image-placeholder {
        order: -1; 
    }
}

/* General Responsive (Smaller phones) */
@media (max-width: 480px) {
    /* Screen 1 Responsive */
    #screen-1 { padding: 15px 5px; }
    .main-content-s1 { gap: 10px; width: 96%; }
    .title-block-s1, .text-block-s1 { padding: 10px; }

    /* General .screen font size adjustment */
    .screen { font-size: 1.4em; }

    /* Side Navigation Responsive */
    .side-nav { top: 15px; gap: 8px; }
    .nav-dot { width: 8px; height: 8px; }

    /* Theme Switcher Responsive */
    #theme-switcher { top: 15px; right: 10px; }
    #theme-icon-span { font-size: 16px; }

    /* Screen 1 Scroll Indicator Responsive */
    .scroll-indicator-s1 { bottom: 15px; }

    /* Common Components for Screens 2-S6: Responsive */
    .page-screen-content-wrapper {
        width: 95%; 
        padding: 2vh 10px; 
    }
    .content-layout-area { gap: 15px; }
    .content-column { gap: 10px; } 
    
    .info-title-block, .info-image-placeholder { padding: 10px; }
    
    .info-text-block {
        padding: 10px; 
    }
    .info-text-block p { font-size: 0.88em; line-height: 1.55; }
    
    .info-image-placeholder { min-height: 15vh; }
    /* order: -1 for S3/S5 image placeholder is inherited from 768px media query */
}

/* === Font Application === */
.title-block-s1 h1,
.info-title-block h2 { /* This is now the primary rule for S2-S6 titles */
    font-family: 'Rowdies', sans-serif;
}

/* The old grouped selector for .title-block-sX h2 will be removed if present, or this rule is sufficient */
